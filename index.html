<!DOCTYPE html>
<html lang="sv" class="bg-black text-white">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>appyChap</title>
  
    <!-- Open Graph metadata -->
    <meta property="og:title" content="appyChap – local code for local legends!" />
    <meta property="og:description" content="Vi bygger snygga, begripliga och funktionella appar & hemsidor. Med hjärta från Medelpad." />
    <meta property="og:image" content="https://www.appychap.se/preview.png" />
    <meta property="og:url" content="https://www.appychap.se" />
    <meta property="og:type" content="website" />
  
    <link rel="icon" href="images/appychapicon.png" type="image/png" />
    <link href="./dist/output.css" rel="stylesheet" />
  
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&display=swap" rel="stylesheet">
  </head>

<body class="flex flex-col min-h-screen font-poppins bg-black text-white overflow-x-hidden">

  <!-- Header -->
  <header class="py-8 sticky top-0 z-50 bg-black">
    <div class="max-w-screen-xl mx-auto w-full flex flex-col items-center text-center px-4">
      <a href="#" class="block" onclick="showHome(); return false;">
        <img src="images/appychapplogga.png" alt="appyChap logotyp" class="h-24 w-auto mb-10 mx-auto" />
      </a>
      <nav class="flex flex-wrap justify-center gap-x-8 gap-y-4 text-lg">
        <a href="#" onclick="loadContent('about.html'); return false;" class="text-white hover:text-yellow-400 transition">Om oss</a>
        <a href="#" onclick="loadContent('whatwedo.html'); return false;" class="text-white hover:text-orange-400 transition">Vad vi gör</a>
        <a href="#" onclick="loadContent('contact.html'); return false;" class="text-white hover:text-blue-400 transition">Kontakta oss</a>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main id="content" class="flex-grow bg-black text-center overflow-hidden">
    <!-- Innehåll laddas dynamiskt här -->
  </main>

  <!-- Footer -->
  <footer class="bg-black py-12 text-sm text-white">
    <div class="max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 text-center px-6">
      <div class="col-span-2 flex justify-center gap-6">
        <!-- Facebook -->
        <a href="https://www.facebook.com/profile.php?id=61574926967290" target="_blank" aria-label="Facebook" class="text-white/80 hover:text-blue-500 transition">
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="h-8 w-8" viewBox="0 0 24 24">
            <path d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 5 
              3.657 9.127 8.438 9.876v-6.988H7.898v-2.888h2.54V9.845
              c0-2.507 1.493-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.464h-1.26
              c-1.243 0-1.63.771-1.63 1.562v1.875h2.773l-.443 2.888h-2.33v6.988
              C18.343 21.127 22 17 22 12z"/>
          </svg>
        </a>
      
        <!-- Instagram -->
        <a href="https://www.instagram.com/appychapsweden/" target="_blank" aria-label="Instagram" class="text-white/80 hover:text-pink-500 transition">
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="h-8 w-8" viewBox="0 0 24 24">
            <path d="M7.75 2A5.75 5.75 0 0 0 2 7.75v8.5A5.75 5.75 0 0 0 
              7.75 22h8.5A5.75 5.75 0 0 0 22 16.25v-8.5A5.75 5.75 0 0 0 
              16.25 2h-8.5zm0 1.5h8.5A4.25 4.25 0 0 1 20.5 7.75v8.5A4.25 
              4.25 0 0 1 16.25 20.5h-8.5A4.25 4.25 0 0 1 3.5 16.25v-8.5A4.25 
              4.25 0 0 1 7.75 3.5zm4.25 3.5a5 5 0 1 0 0 10 5 5 0 0 0 0-10z"/>
          </svg>
        </a>
      
        <!-- LinkedIn -->
        <a href="https://www.linkedin.com/company/nopenotyet" target="_blank" aria-label="LinkedIn" class="text-white/80 hover:text-blue-400 transition">
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="h-8 w-8" viewBox="0 0 24 24">
            <path d="M4.98 3.5C4.98 4.88 3.87 6 2.5 6S0 4.88 0 3.5 
              1.12 1 2.5 1 4.98 2.12 4.98 3.5zM.5 8.5h4V23h-4V8.5zM8.5 
              8.5h3.8v2h.05c.53-1 1.82-2.05 3.75-2.05 4 0 4.9 2.65 
              4.9 6.1V23h-4v-6.5c0-1.55-.03-3.5-2.15-3.5-2.15 
              0-2.5 1.65-2.5 3.35V23h-4V8.5z"/>
          </svg>
        </a>
      </div>
    </div>
    <p class="mt-12 text-xs text-white/40 italic text-center">© 2025 appyChap</p>
  </footer>

  <!-- Scripts -->
  <script>
    function loadContent(file) {
      fetch('/' + file)
        .then(res => res.text())
        .then(html => {
          document.getElementById('content').innerHTML = html;
          if (file === 'contact.html') initContactForm();
        })
        .catch(err => {
          document.getElementById('content').innerHTML = '<p class="text-red-400 text-center">Kunde inte ladda innehållet.</p>';
          console.error(err);
        });
    }

    function showHome() {
      document.getElementById('content').innerHTML = `
        <section class="py-16 px-4 sm:px-6 mx-auto max-w-screen-lg animate-fade overflow-hidden">
          <img src="images/nyfirstillustration.PNG"
               alt="Illustration"
               class="w-full max-w-3xl h-auto rounded-lg shadow-lg mx-auto mb-6" />
          <p class="text-white/60 italic text-lg mt-4">
            appyChap gör tekniken till en tillgång – inte en börda
          </p>
        </section>
      `;
    }

    function initContactForm() {
      const form = document.getElementById("contactForm");
      const successMessage = document.getElementById("successMessage");

      if (!form) {
        console.warn("Formuläret hittades inte");
        return;
      }

      form.addEventListener("submit", async function (e) {
        e.preventDefault();

        const formData = new FormData(form);
        const data = Object.fromEntries(formData.entries());

        if (data.phone && !/^\d+$/.test(data.phone)) {
          alert("Telefonnummer får endast innehålla siffror.");
          return;
        }

        try {
          const res = await fetch("https://appybackend-production.up.railway.app/contact", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data),
          });

          if (res.ok) {
            form.classList.add("hidden");
            successMessage.classList.remove("hidden");
            successMessage.classList.add("opacity-100");
            setTimeout(() => showHome(), 4000);
          } else {
            const text = await res.text();
            alert("Det gick inte att skicka meddelandet:\n" + text);
            console.error("Serverfel:", text);
          }
        } catch (err) {
          alert("Ett nätverksfel inträffade.");
          console.error("Fetch error:", err);
        }
      });
    }

    window.addEventListener('DOMContentLoaded', showHome);
  </script>
</body>
</html>