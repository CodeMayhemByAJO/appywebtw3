<!DOCTYPE html>
<html lang="sv" class="bg-black text-white">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>appyChap Website</title>

  <!-- Favicon -->
  <link rel="icon" href="images/appychapicon.png" type="image/png" />
  <link href="./dist/output.css" rel="stylesheet" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&display=swap" rel="stylesheet">
</head>

<body class="flex flex-col min-h-screen font-poppins bg-black text-white">

  <!-- Header -->
  <header class="py-8">
    <div class="max-w-screen-xl mx-auto w-full flex flex-col items-center text-center px-4">
      <a href="#" class="block">
        <img src="../images/appychapplogga.png" alt="appyChap logotyp" class="h-24 w-auto mb-10 mx-auto" />
      </a>
      <nav class="flex flex-wrap justify-center gap-x-8 gap-y-4 text-lg">
        <a href="#" onclick="loadContent('about.html'); return false;" class="text-white hover:text-yellow-400 transition">Om oss</a>
        <a href="#" onclick="loadContent('whatwedo.html'); return false;" class="text-white hover:text-orange-400 transition">Vad vi gÃ¶r</a>
        <a href="#" onclick="loadContent('contact.html'); return false;" class="text-white hover:text-blue-400 transition">Kontakta oss</a>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main id="content" class="flex-grow bg-black px-4 py-12 text-center">
    <!-- Default illustration -->
    <img src="../images/nyfirstillustration.PNG"
         alt="Illustration"
         class="w-full max-w-xs sm:max-w-md md:max-w-xl lg:max-w-3xl h-auto mx-auto mt-8 sm:mt-12 md:mt-16 rounded-lg shadow-lg" />
  </main>

  <!-- Footer -->
  <footer class="bg-black py-12 text-sm text-white">
    <div class="max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 text-center px-6">
      <div class="col-span-2 flex justify-center gap-6">
        <!-- Social icons here (Facebook, Instagram, LinkedIn) â€“ unchanged -->
        <!-- ... -->
      </div>
    </div>
    <p class="mt-12 text-xs text-white/40 italic text-center">
      Â© 2025 appyChap
    </p>
  </footer>

  <!-- Scripts -->
  <script>
    function loadContent(file) {
      fetch('/' + file)
        .then(res => res.text())
        .then(html => {
          document.getElementById('content').innerHTML = html;

          // ðŸ§  Initiera kontaktformulÃ¤ret om rÃ¤tt sida laddas
          if (file === 'contact.html') {
            initContactForm();
          }
        })
        .catch(err => {
          document.getElementById('content').innerHTML = '<p class="text-red-400 text-center">Kunde inte ladda innehÃ¥llet.</p>';
          console.error(err);
        });
    }

    function initContactForm() {
      const form = document.getElementById("contactForm");
      const successMessage = document.getElementById("successMessage");

      if (!form) {
        console.warn("KontaktformulÃ¤r saknas i DOM.");
        return;
      }

      form.addEventListener("submit", async function (e) {
        e.preventDefault();
        const formData = new FormData(form);
        const data = Object.fromEntries(formData.entries());

        try {
          const res = await fetch("https://appybackend-production.up.railway.app/contact", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data)
          });

          if (res.ok) {
            form.reset();
            successMessage.classList.remove("hidden");
            successMessage.classList.add("opacity-100");
          } else {
            alert("NÃ¥got gick snett (backend).");
          }
        } catch (err) {
          console.error("Fetch error:", err);
          alert("NÃ¤tverksfel â€“ kunde inte skicka.");
        }
      });
    }
  </script>
</body>
</html>