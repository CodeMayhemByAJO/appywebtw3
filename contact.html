<section class="py-16 px-6 max-w-6xl mx-auto text-white">
  <h1 class="text-4xl font-semibold mb-6 text-yellow-400 text-center">Testa kontaktformul√§ret</h1>

  <form id="contactForm" class="space-y-4 max-w-xl mx-auto">
    <input
      type="text"
      name="name"
      placeholder="Ditt namn"
      required
      class="w-full px-4 py-3 bg-black border border-white/20 rounded-md placeholder-white/50"
    />

    <input
      type="email"
      name="email"
      placeholder="Din e-post"
      required
      class="w-full px-4 py-3 bg-black border border-white/20 rounded-md placeholder-white/50"
    />

    <textarea
      name="message"
      placeholder="Ditt meddelande"
      required
      class="w-full px-4 py-3 h-40 bg-black border border-white/20 rounded-md placeholder-white/50 resize-none"
    ></textarea>

    <button
      type="submit"
      class="bg-yellow-400 text-black font-semibold px-6 py-3 rounded-md hover:bg-yellow-500 transition"
    >
      Skicka meddelande
    </button>

    <p id="successMessage" class="text-green-400 mt-4 hidden">
      ‚úÖ Tack! Meddelandet har skickats.
    </p>
  </form>

  <!-- OBS: Detta script ligger INNE i sektionen s√• det k√∂rs efter att formul√§ret finns i DOM -->
  <script>
    const form = document.getElementById("contactForm");
    const successMessage = document.getElementById("successMessage");

    form.addEventListener("submit", async function (e) {
      e.preventDefault();
      const formData = new FormData(form);
      const data = Object.fromEntries(formData.entries());
      console.log("üì® Skickar data:", data);

      try {
        const res = await fetch("https://appybackend-production.up.railway.app/contact", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data)
        });

        console.log("‚úÖ Svar fr√•n backend:", res);
        if (res.ok) {
          form.reset();
          successMessage.classList.remove("hidden");
        } else {
          alert("‚ùå N√•got gick snett (backend).");
        }
      } catch (err) {
        console.error("‚ùå Fetch error:", err);
        alert("N√§tverksfel ‚Äì kunde inte skicka.");
      }
    });
  </script>
</section>